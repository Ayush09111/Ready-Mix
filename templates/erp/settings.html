{% extends "base.html" %}

{% block title %}Settings - ERP System{% endblock %}

{% block content %}
<style>
    .main-header {
        background: linear-gradient(90deg, #0d6efd 0%, #20c997 100%);
        color: white;
        padding: 2.5rem;
        border-radius: 1rem;
        margin-bottom: 2rem;
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }
    .card {
        border-radius: 1rem;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        margin-bottom: 2rem;
    }
    .card-header {
        font-weight: 600;
        font-size: 1.1rem;
    }
</style>

<!-- Header -->
<div class="main-header">
    <h2><i class="fas fa-cog me-2"></i> System Settings</h2>
    <p class="lead mb-0">Manage ERP configurations, preferences, and security controls.</p>
</div>

<div class="row">
    <!-- General Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">General Settings</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Company Name</label>
                        <input type="text" class="form-control" value="Atal Ready Mix Pvt Ltd">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">System Language</label>
                        <select class="form-select">
                            <option selected>English</option>
                            <option>हिंदी</option>
                            <option>मराठी</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Timezone</label>
                        <select class="form-select">
                            <option selected>Asia/Kolkata (IST)</option>
                            <option>UTC</option>
                            <option>GMT</option>
                        </select>
                    </div>
                    <button class="btn btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Theme Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Theme & Appearance</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Theme Mode</label>
                        <select class="form-select">
                            <option selected>Light</option>
                            <option>Dark</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Accent Color</label>
                        <input type="color" class="form-control form-control-color" value="#0d6efd" title="Choose theme color">
                    </div>
                    <button class="btn btn-primary">Apply Theme</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Notification Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Notification Settings</div>
            <div class="card-body">
                <form>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" checked>
                        <label class="form-check-label">Email Alerts</label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox">
                        <label class="form-check-label">SMS Notifications</label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="checkbox" checked>
                        <label class="form-check-label">System Alerts</label>
                    </div>
                    <button class="btn btn-primary">Update Notifications</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Backup & Restore -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Backup & Restore</div>
            <div class="card-body text-center">
                <p class="mb-3">Keep your ERP data safe with backup and restore options.</p>
                <button class="btn btn-success me-2"><i class="fas fa-database me-1"></i> Backup Now</button>
                <button class="btn btn-warning"><i class="fas fa-upload me-1"></i> Restore Data</button>
                <div class="mt-3">
                    <label class="form-label">Scheduled Backup</label>
                    <select class="form-select w-50 mx-auto">
                        <option selected>Daily</option>
                        <option>Weekly</option>
                        <option>Monthly</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Role Management -->
    <div class="col-12">
        <div class="card">
            <div class="card-header">Role & Permission Management</div>
            <div class="card-body">
                <table class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>Role</th>
                            <th>Description</th>
                            <th>Permissions</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Admin</td>
                            <td>Full system access</td>
                            <td><span class="badge bg-success">All</span></td>
                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i> Edit</button></td>
                        </tr>
                        <tr>
                            <td>HR</td>
                            <td>Manage employees, payroll, and attendance</td>
                            <td><span class="badge bg-info">Limited</span></td>
                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i> Edit</button></td>
                        </tr>
                        <tr>
                            <td>Employee</td>
                            <td>Basic access to job cards & attendance</td>
                            <td><span class="badge bg-warning">Restricted</span></td>
                            <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i> Edit</button></td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-primary mt-2"><i class="fas fa-plus me-2"></i>Add Role</button>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Security Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Security Settings</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Password Policy</label>
                        <select class="form-select">
                            <option selected>Strong (8+ chars, numbers, symbols)</option>
                            <option>Medium (6+ chars)</option>
                            <option>Weak (any)</option>
                        </select>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" checked>
                        <label class="form-check-label">Enable Two-Factor Authentication (2FA)</label>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Max Login Attempts</label>
                        <input type="number" class="form-control" value="5">
                    </div>
                    <button class="btn btn-danger">Update Security</button>
                </form>
            </div>
        </div>
    </div>

    <!-- System Logs -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">System Logs & Audit</div>
            <div class="card-body">
                <table class="table table-sm table-striped">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Action</th>
                            <th>Date</th>
                            <th>IP</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Admin</td>
                            <td>Created new user</td>
                            <td>2025-08-29 10:45</td>
                            <td>192.168.0.5</td>
                        </tr>
                        <tr>
                            <td>HR</td>
                            <td>Updated payroll</td>
                            <td>2025-08-29 09:20</td>
                            <td>192.168.0.8</td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-outline-secondary mt-2"><i class="fas fa-download"></i> Export Logs</button>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Integration Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Integration Settings</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">IoT Device Integration</label>
                        <input type="text" class="form-control" placeholder="Device API Key">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Payment Gateway</label>
                        <select class="form-select">
                            <option selected>Razorpay</option>
                            <option>Paytm</option>
                            <option>Stripe</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">External API URL</label>
                        <input type="url" class="form-control" placeholder="https://api.example.com">
                    </div>
                    <button class="btn btn-primary">Save Integration</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Payroll & Finance Settings -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">Payroll & Finance Config</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Salary Cycle</label>
                        <select class="form-select">
                            <option selected>Monthly</option>
                            <option>Bi-Weekly</option>
                            <option>Weekly</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Default Tax Rate (%)</label>
                        <input type="number" class="form-control" value="18">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Overtime Rate (%)</label>
                        <input type="number" class="form-control" value="1.5">
                    </div>
                    <button class="btn btn-primary">Save Finance Settings</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Compliance & Docs Settings -->
    <div class="col-12">
        <div class="card">
            <div class="card-header">Compliance & Document Management</div>
            <div class="card-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Document Expiry Reminder (Days Before)</label>
                        <input type="number" class="form-control w-25" value="30">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Allowed File Types</label>
                        <input type="text" class="form-control" value=".pdf, .docx, .xlsx, .jpg, .png">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Max File Size (MB)</label>
                        <input type="number" class="form-control w-25" value="20">
                    </div>
                    <button class="btn btn-primary">Update Compliance Settings</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
